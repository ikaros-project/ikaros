set(CMAKE_INCLUDE_CURRENT_DIR ON)

if(${CMAKE_SYSTEM_NAME} MATCHES "Darwin")
set(SOURCE
	${SOURCE}
	${CMAKE_CURRENT_SOURCE_DIR}/IKAROS_Math.cc
	${CMAKE_CURRENT_SOURCE_DIR}/IKAROS_Signal.cc
	${CMAKE_CURRENT_SOURCE_DIR}/IKAROS_Threads_pthread.cc
	${CMAKE_CURRENT_SOURCE_DIR}/IKAROS_Utils.cc
	${CMAKE_CURRENT_SOURCE_DIR}/IKAROS_XML.cc
	${CMAKE_CURRENT_SOURCE_DIR}/IKAROS.cc
	${CMAKE_CURRENT_SOURCE_DIR}/main.cc
	# IKAROS_Threads_none.cc will be removed in later version of Ikaros
	${CMAKE_CURRENT_SOURCE_DIR}/IKAROS_Threads_none.cc
	${CMAKE_CURRENT_SOURCE_DIR}/IKAROS_Serial_BSD.cc
	${CMAKE_CURRENT_SOURCE_DIR}/IKAROS_Socket_BSD.cc
	${CMAKE_CURRENT_SOURCE_DIR}/IKAROS_Timer_POSIX.cc
	PARENT_SCOPE
	)
endif()

if(${CMAKE_SYSTEM_NAME} MATCHES "Linux")
set(SOURCE
	${SOURCE}
	${CMAKE_CURRENT_SOURCE_DIR}/IKAROS_Math.cc
	${CMAKE_CURRENT_SOURCE_DIR}/IKAROS_Signal.cc
	${CMAKE_CURRENT_SOURCE_DIR}/IKAROS_Threads_pthread.cc
	${CMAKE_CURRENT_SOURCE_DIR}/IKAROS_Utils.cc
	${CMAKE_CURRENT_SOURCE_DIR}/IKAROS_XML.cc
	${CMAKE_CURRENT_SOURCE_DIR}/IKAROS.cc
	${CMAKE_CURRENT_SOURCE_DIR}/main.cc
	# IKAROS_Threads_none.cc will be removed in later version of Ikaros
	${CMAKE_CURRENT_SOURCE_DIR}/IKAROS_Threads_none.cc
	${CMAKE_CURRENT_SOURCE_DIR}/IKAROS_Serial_BSD.cc
	${CMAKE_CURRENT_SOURCE_DIR}/IKAROS_Socket_BSD.cc
	${CMAKE_CURRENT_SOURCE_DIR}/IKAROS_Timer_POSIX.cc
	PARENT_SCOPE
	)
endif()

